# 天気コンポーネント使用ガイド

## 🌤️ 機能概要

このコンポーネントは OpenWeatherMap API を使用して、リアルタイムの天気情報を表示します。

### ✨ 主な機能

1. **📍 位置情報対応** - GPSで現在地の天気を取得
2. **📊 詳細表示** - 24時間の温度・湿度グラフ  
3. **📅 5日間予報** - 向こう5日間の天気予報
4. **📱 レスポンシブ** - デスクトップ・モバイル対応
5. **🔄 自動更新** - 30分ごとの自動データ更新

## 🎮 操作方法

### 基本操作
- **🖱️ ダブルクリック** - 詳細情報の展開/折りたたみ
- **🎯 GPSボタン** - 現在位置の天気を取得
- **🔄 更新ボタン** - 天気データの手動更新
- **▼/▲ 展開ボタン** - 詳細表示の切り替え

### 位置情報の使用
1. **GPS ボタン** (🎯) をクリック
2. ブラウザの位置情報許可ダイアログで **「許可」** を選択
3. 自動的に現在地の天気を取得・表示

## 🎨 表示モード

### 簡易モード（初期状態）
```
┌─────────────────────────────┐
│ 🌤️ 東京の天気      [🎯][🔄][▼] │
├─────────────────────────────┤
│ [アイコン] 22°C   湿度: 65%   │
│           曇り   風速: 3.5m/s │
│                             │
│   💡 ダブルクリックで詳細表示  │
└─────────────────────────────┘
```

### 詳細モード（展開時）
```
┌─────────────────────────────┐
│ 🌤️ 東京の天気      [🎯][🔄][▲] │
├─────────────────────────────┤
│ [大アイコン] 22°C  💧65% 💨3.5m/s │
│             曇り   📊1013hPa │
│             体感温度24°C      │
├─────────────────────────────┤
│      📈 24時間グラフ         │
├─────────────────────────────┤
│       📅 5日間予報           │
│ [今日] [月曜] [火曜] ...     │
└─────────────────────────────┘
```

## 🔧 位置情報について

### 初回使用時
ブラウザに以下のような許可ダイアログが表示されます：
```
"localhost:5174 があなたの位置情報を知りたがっています"
[ブロック] [許可]
```
**「許可」**を選択してください。

### 権限が拒否された場合
以下の方法で再度有効にできます：

**Chrome の場合**：
1. アドレスバー左の 🔒 アイコンをクリック
2. 「位置情報」→「許可」を選択
3. ページを更新

### プライバシーについて
- 📍 位置情報は天気データ取得のみに使用
- 🔒 位置データの保存・送信は行いません
- 🌐 OpenWeatherMap への座標送信のみ
- 💾 ブラウザセッション中のみ一時保存

## 🌍 対応エリア

- ✅ **世界中の都市** - 主要都市の天気情報
- ✅ **GPS 精密定位** - スマートフォン・タブレット
- ✅ **WiFi 定位** - PCでのおおまかな位置
- ✅ **IP 定位** - ネットワークIPベースの位置

## ⚠️ エラー対応

### よくあるエラー
1. **位置情報が拒否された**
   → ブラウザ設定で位置情報を許可

2. **APIキーエラー**
   → 開発者にお問い合わせください

3. **ネットワークエラー**
   → インターネット接続を確認

4. **位置情報取得タイムアウト**
   → しばらく経ってから再試行

### サンプルデータモード
API に接続できない場合、自動的にサンプルデータを表示し、機能をデモンストレーションします。

## 🎯 使用のコツ

### 最適な使用方法
1. **初回** - GPS ボタンで現在地の天気を取得
2. **移動時** - 新しい場所でGPSボタンを再度押す
3. **定期確認** - 30分ごとに自動更新、手動更新も可能

### デバイス別推奨
- **スマートフォン** - GPS機能で正確な位置取得
- **PC** - WiFi経由でのおおまかな位置取得
- **タブレット** - GPS・WiFi両方に対応

現在地の正確な天気情報をお楽しみください！🌟
